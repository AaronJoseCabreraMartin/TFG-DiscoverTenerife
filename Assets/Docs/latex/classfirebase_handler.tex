\hypertarget{classfirebase_handler}{}\doxysection{firebase\+Handler Class Reference}
\label{classfirebase_handler}\index{firebaseHandler@{firebaseHandler}}


This class follows the Singleton patron, so it only has one instance at the same time. The instance could be found on the firebase\+Handler\+Instance\+\_\+ public static property. This class handles all the firebase releated methods like validating user, creating new users, downloading and uploading all the data from the database.  


Inheritance diagram for firebase\+Handler\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classfirebase_handler}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{classfirebase_handler_aa8a10ab6460cf11bc6d23126c44b200f}{internet\+Connection}} ()
\item 
bool \mbox{\hyperlink{classfirebase_handler_a4043c29298ebba38031194de7e079249}{Firebase\+Dependencies\+Are\+Resolved}} ()
\item 
void \mbox{\hyperlink{classfirebase_handler_a04299ca84568415273316686a94bb3ae}{Create\+New\+User}} (string email, string password)
\item 
void \mbox{\hyperlink{classfirebase_handler_a8e4a4c939d9a69525849e67ea2c5440d}{Login\+User}} (string email, string password)
\item 
void \mbox{\hyperlink{classfirebase_handler_a297e1c6be17087c8721385c645f747a8}{Anonymous\+User}} ()
\item 
void \mbox{\hyperlink{classfirebase_handler_a4fe29f48976a13c0b7e6058ef291739f}{Sign\+In\+With\+Google}} ()
\item 
void \mbox{\hyperlink{classfirebase_handler_a01a2d71ae9cac39dd471025595431a3e}{Log\+Out}} ()
\item 
\mbox{\Hypertarget{classfirebase_handler_a6f8c6e716d1526e02e1d37e73fa586ca}\label{classfirebase_handler_a6f8c6e716d1526e02e1d37e73fa586ca}} 
void {\bfseries write\+New\+Place\+On\+Data\+Base} (\mbox{\hyperlink{class_place}{Place}} place, string type, int place\+ID)
\item 
void \mbox{\hyperlink{classfirebase_handler_aba11f61e5325c292f87ab9cf860d4a47}{write\+User\+Data}} ()
\item 
void \mbox{\hyperlink{classfirebase_handler_a0ebc57ce4f3015ebf732f3fa209048e4}{read\+User\+Data}} ()
\item 
void \mbox{\hyperlink{classfirebase_handler_a3246face54b37d05f1706fd2c679fb4c}{write\+Place\+Data}} (string type, string id)
\begin{DoxyCompactList}\small\item\em This method uploads the data from the place that matches the given type and id. If the upload fails it adds the information of the place to places\+To\+Upload\+Queue\+\_\+. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classfirebase_handler_a28b9cfa56bcc6eb589c0c3cac163d2a1}{cooldown\+Visiting\+Place\+Finished}} (string type, int id)
\begin{DoxyCompactList}\small\item\em This method returns true if the place with the given type and id is ready for a new visit. The cooldown time is defined on the class \mbox{\hyperlink{classgame_rules}{game\+Rules}}, check that class for more information. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classfirebase_handler_a47c57be709727569b5c041afbf39f44a}{cooldown\+Visiting\+Stored\+Place\+Finished}} (\mbox{\hyperlink{class_stored_place}{Stored\+Place}} stored\+Place)
\begin{DoxyCompactList}\small\item\em This method returns true if the place with the given type and id is ready for a new visit. The cooldown time is defined on the class \mbox{\hyperlink{classgame_rules}{game\+Rules}}, check that class for more information. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classfirebase_handler_a7894071f3ee618eb2e46d8f0b1ea7fed}{cooldown\+Visiting\+Place\+By\+Name\+Finished}} (string name)
\begin{DoxyCompactList}\small\item\em This method returns true if the place with the given name is ready for a new visit. The cooldown time is defined on the class \mbox{\hyperlink{classgame_rules}{game\+Rules}}, check that class for more information. You have to be aware that its possible that two places has the same name, on that case, it will check only the first one. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classfirebase_handler_a7cda5d45b2b50fbb90654a6c97280bdd}{user\+Visited\+Place}} (string type, int id, long time\+Of\+The\+Visit=-\/1)
\begin{DoxyCompactList}\small\item\em This method register a new visit for the place with the given type and id and the given timestamp, if the given timestamp is negative it will use the current timestamp. It also calls the write\+Place\+Data and the write\+User\+Data methods to upload the new visit information to the database. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classfirebase_handler_aaced40a0dad386427abff9514dd72745}{user\+Visited\+Place\+By\+Name}} (string name, long time\+Of\+The\+Visit=-\/1)
\begin{DoxyCompactList}\small\item\em This method search on all the places the first one who match the given name, and then, it calls the user\+Visited\+Place method, check that method for more information. You have to be aware that if two places has the same name, the new visit will be added only to the first one. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classfirebase_handler_a2952f67548a2cc3077f9a463b2346c0e}{has\+User\+Visit\+Place\+By\+Name}} (string name)
\begin{DoxyCompactList}\small\item\em This method search on the places that the current user has visited and check if there is at least one place with that name, on that case it returns true, it returns false in other case. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_place}{Place}} \mbox{\hyperlink{classfirebase_handler_aa66de5dfe6ea8297b507c4a372d5097e}{ask\+For\+APlace}} ()
\begin{DoxyCompactList}\small\item\em This method calls ask\+For\+APlace method of \mbox{\hyperlink{classrequest_handler}{request\+Handler}} and returns the place that that method returns. If you want more information check the \mbox{\hyperlink{classrequest_handler}{request\+Handler}} documentation. This method also instanciate a \mbox{\hyperlink{classrequest_handler}{request\+Handler}} if it doesnt exists when its called. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classfirebase_handler_a62e983ac87dcac624548cf24868db9c8}{places\+Are\+Ready}} ()
\item 
bool \mbox{\hyperlink{classfirebase_handler_a3ca6a1aeb10049398462dec0bf5286e7}{user\+Data\+Is\+Ready}} ()
\item 
\mbox{\Hypertarget{classfirebase_handler_a0471139f7ee31242792fb109a2a9c45f}\label{classfirebase_handler_a0471139f7ee31242792fb109a2a9c45f}} 
void {\bfseries sort\+Places} ()
\begin{DoxyCompactList}\small\item\em this method calls the sort\+Places method of the \mbox{\hyperlink{classrequest_handler}{request\+Handler}} class. Check that class documentation to get more information. \end{DoxyCompactList}\item 
Dictionary$<$ string, string $>$ \mbox{\hyperlink{classfirebase_handler_adeb8dfca0be45c50bbc3890cc8c05048}{find\+Place\+By\+Name}} (string name)
\begin{DoxyCompactList}\small\item\em this method returns a dictionary that contains the id and the type of the place that has the given name. If there isn\textquotesingle{}t any place with that name, it will return a dictionary that contains two entries id with the string \char`\"{}-\/1\char`\"{} and type with the string \char`\"{}no\+Type\char`\"{}. If there is more than one place with the given name, only the first one will be returned. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classfirebase_handler_ab5dc9ae5a71e0b308a311bb39d11d36c}\label{classfirebase_handler_ab5dc9ae5a71e0b308a311bb39d11d36c}} 
int {\bfseries total\+Of\+Places} ()
\item 
int \mbox{\hyperlink{classfirebase_handler_ab2e1f3074b62519af5eb018eb8aaa7c8}{total\+Of\+Places\+Of\+Zone}} (string zone)
\begin{DoxyCompactList}\small\item\em this method counts all the places that have the given zone name on their zone\+\_\+ property. If there is no places on the given zone, it will show a message on the console and return a 0. The valid zones are determinated on the \mbox{\hyperlink{classmap_rules_handler}{map\+Rules\+Handler}} class, check its documentation for more information. \end{DoxyCompactList}\item 
Dictionary$<$ string, string $>$ \mbox{\hyperlink{classfirebase_handler_a79d494234917b59874830d3d758a71ff}{get\+Place\+Data}} (string type, string id)
\begin{DoxyCompactList}\small\item\em This method search on the property all\+Places\+\_\+ if there is a place with the given type and id. If there isn\textquotesingle{}t any place that match both the given id and the given type, it will return null. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classfirebase_handler_a52e570d5c90783362238de73768243e7}{add\+Friend\+Data\+To\+Download}} (string uid)
\begin{DoxyCompactList}\small\item\em this method adds the given user id to the friend\+Data\+Download\+Queue\+\_\+ for being downloaded after. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classfirebase_handler_a1e64c2244615553b1c6d60498badfec3}{update\+User\+Delete\+AFriend}} (string no\+Friend\+Uid, string deleted\+Friends\+List)
\begin{DoxyCompactList}\small\item\em WTF por que deleted\+Friends\+List es un string en vez de una lista?!?!?. This method must be called when there is internet connection, otherwise it wont to nothing. This method upload the deleted\+Friends property of the user that has the given id. \end{DoxyCompactList}\item 
Dictionary$<$ string, string $>$ \mbox{\hyperlink{classfirebase_handler_a59e38bcbbfa4a3eca14e01bac8494fc5}{Search\+Other\+User\+By\+Name}} (string to\+Search, string type, \mbox{\hyperlink{class_search_bar}{Search\+Bar}} to\+Advise=null)
\begin{DoxyCompactList}\small\item\em This method tries to find other user on the list of users that allow be found by other users on the different types of searchs. The information that is returned depends on the type of the search. If a \mbox{\hyperlink{class_search_bar}{Search\+Bar}} object is given it will call the results\+Of\+The\+Search method of that class with a dictionary version of the found user. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classfirebase_handler_a8c59535dfc15cd611f0a6bda8b887b7c}{send\+Friendship\+Invitation}} (string uid\+To\+Invite, \mbox{\hyperlink{class_searched_player}{Searched\+Player}} searched\+Player\+To\+Advice)
\begin{DoxyCompactList}\small\item\em This method tries to send a new friendship invitation of the current user to the user that has the given id. The sending can produce three states\+: \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_user_data}{User\+Data}} \mbox{\hyperlink{classfirebase_handler_a31c52c5358953859820e2f3f1266e57e}{actual\+User\+\_\+}} = null
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classfirebase_handler}{firebase\+Handler}} \mbox{\hyperlink{classfirebase_handler_aaf00899aab5f1eccfaf3fe603ca317f5}{firebase\+Handler\+Instance\+\_\+}} = null
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This class follows the Singleton patron, so it only has one instance at the same time. The instance could be found on the firebase\+Handler\+Instance\+\_\+ public static property. This class handles all the firebase releated methods like validating user, creating new users, downloading and uploading all the data from the database. 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classfirebase_handler_a52e570d5c90783362238de73768243e7}\label{classfirebase_handler_a52e570d5c90783362238de73768243e7}} 
\index{firebaseHandler@{firebaseHandler}!addFriendDataToDownload@{addFriendDataToDownload}}
\index{addFriendDataToDownload@{addFriendDataToDownload}!firebaseHandler@{firebaseHandler}}
\doxysubsubsection{\texorpdfstring{addFriendDataToDownload()}{addFriendDataToDownload()}}
{\footnotesize\ttfamily void firebase\+Handler.\+add\+Friend\+Data\+To\+Download (\begin{DoxyParamCaption}\item[{string}]{uid }\end{DoxyParamCaption})}



this method adds the given user id to the friend\+Data\+Download\+Queue\+\_\+ for being downloaded after. 


\begin{DoxyParams}{Parameters}
{\em string} & that contains the user id that you want to download data. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classfirebase_handler_a297e1c6be17087c8721385c645f747a8}\label{classfirebase_handler_a297e1c6be17087c8721385c645f747a8}} 
\index{firebaseHandler@{firebaseHandler}!AnonymousUser@{AnonymousUser}}
\index{AnonymousUser@{AnonymousUser}!firebaseHandler@{firebaseHandler}}
\doxysubsubsection{\texorpdfstring{AnonymousUser()}{AnonymousUser()}}
{\footnotesize\ttfamily void firebase\+Handler.\+Anonymous\+User (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

This method tries to starts a session as an anonymous user, if it finish successfully it calls the downloading information methods and it also calls the anonymous\+User\+Login\+Sucessfully method of the \mbox{\hyperlink{classanonymous_button_handler}{anonymous\+Button\+Handler}} class. \mbox{\Hypertarget{classfirebase_handler_aa66de5dfe6ea8297b507c4a372d5097e}\label{classfirebase_handler_aa66de5dfe6ea8297b507c4a372d5097e}} 
\index{firebaseHandler@{firebaseHandler}!askForAPlace@{askForAPlace}}
\index{askForAPlace@{askForAPlace}!firebaseHandler@{firebaseHandler}}
\doxysubsubsection{\texorpdfstring{askForAPlace()}{askForAPlace()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_place}{Place}} firebase\+Handler.\+ask\+For\+APlace (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



This method calls ask\+For\+APlace method of \mbox{\hyperlink{classrequest_handler}{request\+Handler}} and returns the place that that method returns. If you want more information check the \mbox{\hyperlink{classrequest_handler}{request\+Handler}} documentation. This method also instanciate a \mbox{\hyperlink{classrequest_handler}{request\+Handler}} if it doesnt exists when its called. 

\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{class_place}{Place}} place that should be used next. 
\end{DoxyReturn}
\mbox{\Hypertarget{classfirebase_handler_a7894071f3ee618eb2e46d8f0b1ea7fed}\label{classfirebase_handler_a7894071f3ee618eb2e46d8f0b1ea7fed}} 
\index{firebaseHandler@{firebaseHandler}!cooldownVisitingPlaceByNameFinished@{cooldownVisitingPlaceByNameFinished}}
\index{cooldownVisitingPlaceByNameFinished@{cooldownVisitingPlaceByNameFinished}!firebaseHandler@{firebaseHandler}}
\doxysubsubsection{\texorpdfstring{cooldownVisitingPlaceByNameFinished()}{cooldownVisitingPlaceByNameFinished()}}
{\footnotesize\ttfamily bool firebase\+Handler.\+cooldown\+Visiting\+Place\+By\+Name\+Finished (\begin{DoxyParamCaption}\item[{string}]{name }\end{DoxyParamCaption})}



This method returns true if the place with the given name is ready for a new visit. The cooldown time is defined on the class \mbox{\hyperlink{classgame_rules}{game\+Rules}}, check that class for more information. You have to be aware that its possible that two places has the same name, on that case, it will check only the first one. 


\begin{DoxyParams}{Parameters}
{\em string} & that contains the name of the place that you want to check if its ready to visit it again \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool with true if the cooldown for visiting the given place is finished, in other case, false. 
\end{DoxyReturn}
\mbox{\Hypertarget{classfirebase_handler_a28b9cfa56bcc6eb589c0c3cac163d2a1}\label{classfirebase_handler_a28b9cfa56bcc6eb589c0c3cac163d2a1}} 
\index{firebaseHandler@{firebaseHandler}!cooldownVisitingPlaceFinished@{cooldownVisitingPlaceFinished}}
\index{cooldownVisitingPlaceFinished@{cooldownVisitingPlaceFinished}!firebaseHandler@{firebaseHandler}}
\doxysubsubsection{\texorpdfstring{cooldownVisitingPlaceFinished()}{cooldownVisitingPlaceFinished()}}
{\footnotesize\ttfamily bool firebase\+Handler.\+cooldown\+Visiting\+Place\+Finished (\begin{DoxyParamCaption}\item[{string}]{type,  }\item[{int}]{id }\end{DoxyParamCaption})}



This method returns true if the place with the given type and id is ready for a new visit. The cooldown time is defined on the class \mbox{\hyperlink{classgame_rules}{game\+Rules}}, check that class for more information. 


\begin{DoxyParams}{Parameters}
{\em string} & with the type of the place we want to check \\
\hline
{\em int} & with the id of the place we want to check \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool with true if the cooldown for visiting the given place is finished, in other case, false. 
\end{DoxyReturn}
\mbox{\Hypertarget{classfirebase_handler_a47c57be709727569b5c041afbf39f44a}\label{classfirebase_handler_a47c57be709727569b5c041afbf39f44a}} 
\index{firebaseHandler@{firebaseHandler}!cooldownVisitingStoredPlaceFinished@{cooldownVisitingStoredPlaceFinished}}
\index{cooldownVisitingStoredPlaceFinished@{cooldownVisitingStoredPlaceFinished}!firebaseHandler@{firebaseHandler}}
\doxysubsubsection{\texorpdfstring{cooldownVisitingStoredPlaceFinished()}{cooldownVisitingStoredPlaceFinished()}}
{\footnotesize\ttfamily bool firebase\+Handler.\+cooldown\+Visiting\+Stored\+Place\+Finished (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_stored_place}{Stored\+Place}}}]{stored\+Place }\end{DoxyParamCaption})}



This method returns true if the place with the given type and id is ready for a new visit. The cooldown time is defined on the class \mbox{\hyperlink{classgame_rules}{game\+Rules}}, check that class for more information. 


\begin{DoxyParams}{Parameters}
{\em \mbox{\hyperlink{class_stored_place}{Stored\+Place}}} & the \mbox{\hyperlink{class_stored_place}{Stored\+Place}} object that you want to check if you can visit it again. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool with true if the cooldown for visiting the given place is finished, in other case, false. 
\end{DoxyReturn}
\mbox{\Hypertarget{classfirebase_handler_a04299ca84568415273316686a94bb3ae}\label{classfirebase_handler_a04299ca84568415273316686a94bb3ae}} 
\index{firebaseHandler@{firebaseHandler}!CreateNewUser@{CreateNewUser}}
\index{CreateNewUser@{CreateNewUser}!firebaseHandler@{firebaseHandler}}
\doxysubsubsection{\texorpdfstring{CreateNewUser()}{CreateNewUser()}}
{\footnotesize\ttfamily void firebase\+Handler.\+Create\+New\+User (\begin{DoxyParamCaption}\item[{string}]{email,  }\item[{string}]{password }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parameters}
{\em string} & that contains the new user email. \\
\hline
{\em string} & that contains the new user password. This method tries to create a new user on the firebase backend with the given email and password. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classfirebase_handler_adeb8dfca0be45c50bbc3890cc8c05048}\label{classfirebase_handler_adeb8dfca0be45c50bbc3890cc8c05048}} 
\index{firebaseHandler@{firebaseHandler}!findPlaceByName@{findPlaceByName}}
\index{findPlaceByName@{findPlaceByName}!firebaseHandler@{firebaseHandler}}
\doxysubsubsection{\texorpdfstring{findPlaceByName()}{findPlaceByName()}}
{\footnotesize\ttfamily Dictionary$<$ string, string $>$ firebase\+Handler.\+find\+Place\+By\+Name (\begin{DoxyParamCaption}\item[{string}]{name }\end{DoxyParamCaption})}



this method returns a dictionary that contains the id and the type of the place that has the given name. If there isn\textquotesingle{}t any place with that name, it will return a dictionary that contains two entries id with the string \char`\"{}-\/1\char`\"{} and type with the string \char`\"{}no\+Type\char`\"{}. If there is more than one place with the given name, only the first one will be returned. 


\begin{DoxyParams}{Parameters}
{\em string} & that contains the name of the searched place \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Dictionary$<$string,string$>$ it contains two entries, id and type, they contains the id and the type of the place that matches the given name 
\end{DoxyReturn}
\mbox{\Hypertarget{classfirebase_handler_a4043c29298ebba38031194de7e079249}\label{classfirebase_handler_a4043c29298ebba38031194de7e079249}} 
\index{firebaseHandler@{firebaseHandler}!FirebaseDependenciesAreResolved@{FirebaseDependenciesAreResolved}}
\index{FirebaseDependenciesAreResolved@{FirebaseDependenciesAreResolved}!firebaseHandler@{firebaseHandler}}
\doxysubsubsection{\texorpdfstring{FirebaseDependenciesAreResolved()}{FirebaseDependenciesAreResolved()}}
{\footnotesize\ttfamily bool firebase\+Handler.\+Firebase\+Dependencies\+Are\+Resolved (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Getter of the flag that indicate that firebase dependencies are resolved or not. \mbox{\Hypertarget{classfirebase_handler_a79d494234917b59874830d3d758a71ff}\label{classfirebase_handler_a79d494234917b59874830d3d758a71ff}} 
\index{firebaseHandler@{firebaseHandler}!getPlaceData@{getPlaceData}}
\index{getPlaceData@{getPlaceData}!firebaseHandler@{firebaseHandler}}
\doxysubsubsection{\texorpdfstring{getPlaceData()}{getPlaceData()}}
{\footnotesize\ttfamily Dictionary$<$ string, string $>$ firebase\+Handler.\+get\+Place\+Data (\begin{DoxyParamCaption}\item[{string}]{type,  }\item[{string}]{id }\end{DoxyParamCaption})}



This method search on the property all\+Places\+\_\+ if there is a place with the given type and id. If there isn\textquotesingle{}t any place that match both the given id and the given type, it will return null. 


\begin{DoxyParams}{Parameters}
{\em string} & that contains the type of the searched place. \\
\hline
{\em string} & that contains the id of the searched place. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Dictionary$<$string, string$>$ dictionary of strings that contains a string version of all the information of the searched place. 
\end{DoxyReturn}
\mbox{\Hypertarget{classfirebase_handler_a2952f67548a2cc3077f9a463b2346c0e}\label{classfirebase_handler_a2952f67548a2cc3077f9a463b2346c0e}} 
\index{firebaseHandler@{firebaseHandler}!hasUserVisitPlaceByName@{hasUserVisitPlaceByName}}
\index{hasUserVisitPlaceByName@{hasUserVisitPlaceByName}!firebaseHandler@{firebaseHandler}}
\doxysubsubsection{\texorpdfstring{hasUserVisitPlaceByName()}{hasUserVisitPlaceByName()}}
{\footnotesize\ttfamily bool firebase\+Handler.\+has\+User\+Visit\+Place\+By\+Name (\begin{DoxyParamCaption}\item[{string}]{name }\end{DoxyParamCaption})}



This method search on the places that the current user has visited and check if there is at least one place with that name, on that case it returns true, it returns false in other case. 


\begin{DoxyParams}{Parameters}
{\em string} & that contains the name of the place that you want to check if current user has visit or not. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool true if user has visit a place with that name, false in other case. 
\end{DoxyReturn}
\mbox{\Hypertarget{classfirebase_handler_aa8a10ab6460cf11bc6d23126c44b200f}\label{classfirebase_handler_aa8a10ab6460cf11bc6d23126c44b200f}} 
\index{firebaseHandler@{firebaseHandler}!internetConnection@{internetConnection}}
\index{internetConnection@{internetConnection}!firebaseHandler@{firebaseHandler}}
\doxysubsubsection{\texorpdfstring{internetConnection()}{internetConnection()}}
{\footnotesize\ttfamily bool firebase\+Handler.\+internet\+Connection (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

This method returns true only if there is internet connection, otherwise it will return false. \mbox{\Hypertarget{classfirebase_handler_a8e4a4c939d9a69525849e67ea2c5440d}\label{classfirebase_handler_a8e4a4c939d9a69525849e67ea2c5440d}} 
\index{firebaseHandler@{firebaseHandler}!LoginUser@{LoginUser}}
\index{LoginUser@{LoginUser}!firebaseHandler@{firebaseHandler}}
\doxysubsubsection{\texorpdfstring{LoginUser()}{LoginUser()}}
{\footnotesize\ttfamily void firebase\+Handler.\+Login\+User (\begin{DoxyParamCaption}\item[{string}]{email,  }\item[{string}]{password }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parameters}
{\em string} & that contains the user email that will try to login with. \\
\hline
{\em string} & that contains the user password that will try to login with. This method tries to start a sesion with the given email and password, if it finish successfully it will call the downloading information methods and also call the \mbox{\hyperlink{classemail_login_controller}{email\+Login\+Controller}} user\+Loged\+Successfully method. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classfirebase_handler_a01a2d71ae9cac39dd471025595431a3e}\label{classfirebase_handler_a01a2d71ae9cac39dd471025595431a3e}} 
\index{firebaseHandler@{firebaseHandler}!LogOut@{LogOut}}
\index{LogOut@{LogOut}!firebaseHandler@{firebaseHandler}}
\doxysubsubsection{\texorpdfstring{LogOut()}{LogOut()}}
{\footnotesize\ttfamily void firebase\+Handler.\+Log\+Out (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

This method end the current firebase user sesion. \mbox{\Hypertarget{classfirebase_handler_a62e983ac87dcac624548cf24868db9c8}\label{classfirebase_handler_a62e983ac87dcac624548cf24868db9c8}} 
\index{firebaseHandler@{firebaseHandler}!placesAreReady@{placesAreReady}}
\index{placesAreReady@{placesAreReady}!firebaseHandler@{firebaseHandler}}
\doxysubsubsection{\texorpdfstring{placesAreReady()}{placesAreReady()}}
{\footnotesize\ttfamily bool firebase\+Handler.\+places\+Are\+Ready (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\begin{DoxyReturn}{Returns}
bool true if all the places are downloaded and ready to use. 
\end{DoxyReturn}
\mbox{\Hypertarget{classfirebase_handler_a0ebc57ce4f3015ebf732f3fa209048e4}\label{classfirebase_handler_a0ebc57ce4f3015ebf732f3fa209048e4}} 
\index{firebaseHandler@{firebaseHandler}!readUserData@{readUserData}}
\index{readUserData@{readUserData}!firebaseHandler@{firebaseHandler}}
\doxysubsubsection{\texorpdfstring{readUserData()}{readUserData()}}
{\footnotesize\ttfamily void firebase\+Handler.\+read\+User\+Data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

This method download all the information that is releated to the user from the firebase database. \mbox{\Hypertarget{classfirebase_handler_a59e38bcbbfa4a3eca14e01bac8494fc5}\label{classfirebase_handler_a59e38bcbbfa4a3eca14e01bac8494fc5}} 
\index{firebaseHandler@{firebaseHandler}!SearchOtherUserByName@{SearchOtherUserByName}}
\index{SearchOtherUserByName@{SearchOtherUserByName}!firebaseHandler@{firebaseHandler}}
\doxysubsubsection{\texorpdfstring{SearchOtherUserByName()}{SearchOtherUserByName()}}
{\footnotesize\ttfamily Dictionary$<$ string, string $>$ firebase\+Handler.\+Search\+Other\+User\+By\+Name (\begin{DoxyParamCaption}\item[{string}]{to\+Search,  }\item[{string}]{type,  }\item[{\mbox{\hyperlink{class_search_bar}{Search\+Bar}}}]{to\+Advise = {\ttfamily null} }\end{DoxyParamCaption})}



This method tries to find other user on the list of users that allow be found by other users on the different types of searchs. The information that is returned depends on the type of the search. If a \mbox{\hyperlink{class_search_bar}{Search\+Bar}} object is given it will call the results\+Of\+The\+Search method of that class with a dictionary version of the found user. 


\begin{DoxyParams}{Parameters}
{\em string} & that contains the display\+Name that you want to search \\
\hline
{\em string} & that contains the reason of the search, it could be friend, chanllege or ranking. This reasons for the search has to be differenciated because users can allow or not be found by other users. \\
\hline
{\em \mbox{\hyperlink{class_search_bar}{Search\+Bar}}} & object that you want to advise when the search ends. This parameter is optional. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Dictionary$<$string,string$>$ A dictionary version of the necessary information of the player that has the given user id. 
\end{DoxyReturn}
\mbox{\Hypertarget{classfirebase_handler_a8c59535dfc15cd611f0a6bda8b887b7c}\label{classfirebase_handler_a8c59535dfc15cd611f0a6bda8b887b7c}} 
\index{firebaseHandler@{firebaseHandler}!sendFriendshipInvitation@{sendFriendshipInvitation}}
\index{sendFriendshipInvitation@{sendFriendshipInvitation}!firebaseHandler@{firebaseHandler}}
\doxysubsubsection{\texorpdfstring{sendFriendshipInvitation()}{sendFriendshipInvitation()}}
{\footnotesize\ttfamily void firebase\+Handler.\+send\+Friendship\+Invitation (\begin{DoxyParamCaption}\item[{string}]{uid\+To\+Invite,  }\item[{\mbox{\hyperlink{class_searched_player}{Searched\+Player}}}]{searched\+Player\+To\+Advice }\end{DoxyParamCaption})}



This method tries to send a new friendship invitation of the current user to the user that has the given id. The sending can produce three states\+: 


\begin{DoxyParams}{Parameters}
{\em string} & that contains the user id of the player that the current user want to send a new friendship invitation. \\
\hline
{\em \mbox{\hyperlink{class_searched_player}{Searched\+Player}}} & object that handles the result of the sending
\begin{DoxyItemize}
\item sended\+: all was OK and the invitation was sended successfully.
\item failed\+: the sending failed because there is no internet connection or other error.
\item repeated\+: the sending failed because that user already have an invitation of the current user. 
\end{DoxyItemize}\\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classfirebase_handler_a4fe29f48976a13c0b7e6058ef291739f}\label{classfirebase_handler_a4fe29f48976a13c0b7e6058ef291739f}} 
\index{firebaseHandler@{firebaseHandler}!SignInWithGoogle@{SignInWithGoogle}}
\index{SignInWithGoogle@{SignInWithGoogle}!firebaseHandler@{firebaseHandler}}
\doxysubsubsection{\texorpdfstring{SignInWithGoogle()}{SignInWithGoogle()}}
{\footnotesize\ttfamily void firebase\+Handler.\+Sign\+In\+With\+Google (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

This method will be called when the google signin button is pressed, it start the google authentication process calling the method On\+Authentication\+Finished when it finish. \mbox{\Hypertarget{classfirebase_handler_ab2e1f3074b62519af5eb018eb8aaa7c8}\label{classfirebase_handler_ab2e1f3074b62519af5eb018eb8aaa7c8}} 
\index{firebaseHandler@{firebaseHandler}!totalOfPlacesOfZone@{totalOfPlacesOfZone}}
\index{totalOfPlacesOfZone@{totalOfPlacesOfZone}!firebaseHandler@{firebaseHandler}}
\doxysubsubsection{\texorpdfstring{totalOfPlacesOfZone()}{totalOfPlacesOfZone()}}
{\footnotesize\ttfamily int firebase\+Handler.\+total\+Of\+Places\+Of\+Zone (\begin{DoxyParamCaption}\item[{string}]{zone }\end{DoxyParamCaption})}



this method counts all the places that have the given zone name on their zone\+\_\+ property. If there is no places on the given zone, it will show a message on the console and return a 0. The valid zones are determinated on the \mbox{\hyperlink{classmap_rules_handler}{map\+Rules\+Handler}} class, check its documentation for more information. 


\begin{DoxyParams}{Parameters}
{\em string} & that contains the name of a zone. Valid zones are determinated on \mbox{\hyperlink{classmap_rules_handler}{map\+Rules\+Handler}} class. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int the number of places that are on the given zone. 
\end{DoxyReturn}
\mbox{\Hypertarget{classfirebase_handler_a1e64c2244615553b1c6d60498badfec3}\label{classfirebase_handler_a1e64c2244615553b1c6d60498badfec3}} 
\index{firebaseHandler@{firebaseHandler}!updateUserDeleteAFriend@{updateUserDeleteAFriend}}
\index{updateUserDeleteAFriend@{updateUserDeleteAFriend}!firebaseHandler@{firebaseHandler}}
\doxysubsubsection{\texorpdfstring{updateUserDeleteAFriend()}{updateUserDeleteAFriend()}}
{\footnotesize\ttfamily void firebase\+Handler.\+update\+User\+Delete\+AFriend (\begin{DoxyParamCaption}\item[{string}]{no\+Friend\+Uid,  }\item[{string}]{deleted\+Friends\+List }\end{DoxyParamCaption})}



WTF por que deleted\+Friends\+List es un string en vez de una lista?!?!?. This method must be called when there is internet connection, otherwise it wont to nothing. This method upload the deleted\+Friends property of the user that has the given id. 


\begin{DoxyParams}{Parameters}
{\em string} & that contains the user that will has erased the friendship with the current user. \\
\hline
{\em string} & that contains the deleted friends list of the user that has the given id. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classfirebase_handler_a3ca6a1aeb10049398462dec0bf5286e7}\label{classfirebase_handler_a3ca6a1aeb10049398462dec0bf5286e7}} 
\index{firebaseHandler@{firebaseHandler}!userDataIsReady@{userDataIsReady}}
\index{userDataIsReady@{userDataIsReady}!firebaseHandler@{firebaseHandler}}
\doxysubsubsection{\texorpdfstring{userDataIsReady()}{userDataIsReady()}}
{\footnotesize\ttfamily bool firebase\+Handler.\+user\+Data\+Is\+Ready (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\begin{DoxyReturn}{Returns}
bool true if the user data is downloaded and ready to use. 
\end{DoxyReturn}
\mbox{\Hypertarget{classfirebase_handler_a7cda5d45b2b50fbb90654a6c97280bdd}\label{classfirebase_handler_a7cda5d45b2b50fbb90654a6c97280bdd}} 
\index{firebaseHandler@{firebaseHandler}!userVisitedPlace@{userVisitedPlace}}
\index{userVisitedPlace@{userVisitedPlace}!firebaseHandler@{firebaseHandler}}
\doxysubsubsection{\texorpdfstring{userVisitedPlace()}{userVisitedPlace()}}
{\footnotesize\ttfamily void firebase\+Handler.\+user\+Visited\+Place (\begin{DoxyParamCaption}\item[{string}]{type,  }\item[{int}]{id,  }\item[{long}]{time\+Of\+The\+Visit = {\ttfamily -\/1} }\end{DoxyParamCaption})}



This method register a new visit for the place with the given type and id and the given timestamp, if the given timestamp is negative it will use the current timestamp. It also calls the write\+Place\+Data and the write\+User\+Data methods to upload the new visit information to the database. 


\begin{DoxyParams}{Parameters}
{\em string} & that contains the type of the place that current user has visited and you want to register that visit. \\
\hline
{\em int} & that contains the id of the place that current user has visited and you want to register that visit. \\
\hline
{\em long} & that contains the timestamp of the visit, the default value is -\/1. A negative value means that you want to use the current timestamp not the given one. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classfirebase_handler_aaced40a0dad386427abff9514dd72745}\label{classfirebase_handler_aaced40a0dad386427abff9514dd72745}} 
\index{firebaseHandler@{firebaseHandler}!userVisitedPlaceByName@{userVisitedPlaceByName}}
\index{userVisitedPlaceByName@{userVisitedPlaceByName}!firebaseHandler@{firebaseHandler}}
\doxysubsubsection{\texorpdfstring{userVisitedPlaceByName()}{userVisitedPlaceByName()}}
{\footnotesize\ttfamily void firebase\+Handler.\+user\+Visited\+Place\+By\+Name (\begin{DoxyParamCaption}\item[{string}]{name,  }\item[{long}]{time\+Of\+The\+Visit = {\ttfamily -\/1} }\end{DoxyParamCaption})}



This method search on all the places the first one who match the given name, and then, it calls the user\+Visited\+Place method, check that method for more information. You have to be aware that if two places has the same name, the new visit will be added only to the first one. 


\begin{DoxyParams}{Parameters}
{\em string} & that contains the name of the place that current user has visited and you want to register that visit. \\
\hline
{\em long} & that contains the timestamp of the visit, the default value is -\/1. A negative value means that you want to use the current timestamp not the given one. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classfirebase_handler_a3246face54b37d05f1706fd2c679fb4c}\label{classfirebase_handler_a3246face54b37d05f1706fd2c679fb4c}} 
\index{firebaseHandler@{firebaseHandler}!writePlaceData@{writePlaceData}}
\index{writePlaceData@{writePlaceData}!firebaseHandler@{firebaseHandler}}
\doxysubsubsection{\texorpdfstring{writePlaceData()}{writePlaceData()}}
{\footnotesize\ttfamily void firebase\+Handler.\+write\+Place\+Data (\begin{DoxyParamCaption}\item[{string}]{type,  }\item[{string}]{id }\end{DoxyParamCaption})}



This method uploads the data from the place that matches the given type and id. If the upload fails it adds the information of the place to places\+To\+Upload\+Queue\+\_\+. 


\begin{DoxyParams}{Parameters}
{\em type} & string that contains the type of the place that we want to upload. \\
\hline
{\em id} & string that contains the id of the place that we want to upload. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classfirebase_handler_aba11f61e5325c292f87ab9cf860d4a47}\label{classfirebase_handler_aba11f61e5325c292f87ab9cf860d4a47}} 
\index{firebaseHandler@{firebaseHandler}!writeUserData@{writeUserData}}
\index{writeUserData@{writeUserData}!firebaseHandler@{firebaseHandler}}
\doxysubsubsection{\texorpdfstring{writeUserData()}{writeUserData()}}
{\footnotesize\ttfamily void firebase\+Handler.\+write\+User\+Data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

This method uploads to the database all the current user releated information. It also upload the changes on the user social preferences. 

\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classfirebase_handler_a31c52c5358953859820e2f3f1266e57e}\label{classfirebase_handler_a31c52c5358953859820e2f3f1266e57e}} 
\index{firebaseHandler@{firebaseHandler}!actualUser\_@{actualUser\_}}
\index{actualUser\_@{actualUser\_}!firebaseHandler@{firebaseHandler}}
\doxysubsubsection{\texorpdfstring{actualUser\_}{actualUser\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_user_data}{User\+Data}} firebase\+Handler.\+actual\+User\+\_\+ = null}

A instance of the class \mbox{\hyperlink{class_user_data}{User\+Data}}, it stores the downloaded data from the database, check the documentation of that class to get more information. \mbox{\Hypertarget{classfirebase_handler_aaf00899aab5f1eccfaf3fe603ca317f5}\label{classfirebase_handler_aaf00899aab5f1eccfaf3fe603ca317f5}} 
\index{firebaseHandler@{firebaseHandler}!firebaseHandlerInstance\_@{firebaseHandlerInstance\_}}
\index{firebaseHandlerInstance\_@{firebaseHandlerInstance\_}!firebaseHandler@{firebaseHandler}}
\doxysubsubsection{\texorpdfstring{firebaseHandlerInstance\_}{firebaseHandlerInstance\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classfirebase_handler}{firebase\+Handler}} firebase\+Handler.\+firebase\+Handler\+Instance\+\_\+ = null\hspace{0.3cm}{\ttfamily [static]}}

This public static attribute store the unique instance of this class. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
Scripts/\+Login/firebase\+Handler.\+cs\end{DoxyCompactItemize}
