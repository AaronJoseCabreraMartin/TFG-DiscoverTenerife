\hypertarget{classrequest_handler}{}\doxysection{request\+Handler Class Reference}
\label{classrequest_handler}\index{requestHandler@{requestHandler}}


class that controls the request of places information.  


\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classrequest_handler_aa666513cc05d0e733d7db4a6597664ae}{request\+Handler}} (Dictionary$<$ string, Dictionary$<$ string, Dictionary$<$ string, string $>$ $>$ $>$ all\+Places)
\begin{DoxyCompactList}\small\item\em constructor of the \mbox{\hyperlink{classrequest_handler}{request\+Handler}} class, it initialize all the properties of the object and instanciate a new \mbox{\hyperlink{class_place}{Place}} and store it on the list\+Of\+Places\+\_\+ property for each place of the given dictionary. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_place}{Place}} \mbox{\hyperlink{classrequest_handler_ab90cafa9ee042a09fc43051473610487}{ask\+For\+APlace}} ()
\begin{DoxyCompactList}\small\item\em this method access to the sort\+By\+Less\+Distance method of \mbox{\hyperlink{classoptions_controller}{options\+Controller}} class and it shorts the places acording to the chosen sort method calling the sort\+Places method if the chosen sort method has changed since last call to this method. It returns the next place that should be showed to the user acording to the sorting method and the prefferences of the current user of what the current user wants to see. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classrequest_handler_a1de643057d5925139555f8d86f0d6928}{sort\+Places}} ()
\begin{DoxyCompactList}\small\item\em Sorts the places acording to the current user preferences. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classrequest_handler_a4b70f4378a4b1e7bdd52afb7301b0496}{one\+More\+Visit\+To\+Place\+By\+Type\+And\+Id}} (string type, string id)
\begin{DoxyCompactList}\small\item\em Calls the method one\+More\+Visit of the given instance of the class \mbox{\hyperlink{class_place}{Place}} that matches the given type and id. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_place}{Place}} \mbox{\hyperlink{classrequest_handler_ac06e06309e2ae1fd81a1fe41533f3045}{get\+Place\+By\+Type\+And\+Id}} (string type, string id)
\begin{DoxyCompactList}\small\item\em It returns the place that match the given type and id, if there inst any place with that index or type it will raise an exception. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classrequest_handler_a3c1b14bbe2a439308f7ed778b951e952}{use\+Start\+Index}} ()
\begin{DoxyCompactList}\small\item\em This method sets the current\+Index\+\_\+ at the start\+Index\+\_\+ to start from the begining of the sorted list of places. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classrequest_handler_ac0f0d270c70239835f6a1b1875da2536}{update\+Start\+Index}} ()
\begin{DoxyCompactList}\small\item\em This method updates the start\+Index\+\_\+ to take new places. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classrequest_handler_a4439a445bbe97705f794966d66ff3de8}{visits\+Of\+Most\+Visited\+Place}} ()
\begin{DoxyCompactList}\small\item\em This method calculates the maximum number of visits between each type of place and then, it calculates the maximum number of all types. Basically, it returns the maximum number of visits between all places. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classrequest_handler_ab7326672366737a58cef46efd522cd06}{update\+Index}} ()
\begin{DoxyCompactList}\small\item\em updates the current\+Index\+\_\+ property to point the next place type that should be chosen. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classrequest_handler_a33f4bb0d06754215d9e64c3260f581d7}{compare\+Two\+Places\+Taking\+Aware\+Of\+Options}} (Dictionary$<$ string, int $>$ place\+IndexA, Dictionary$<$ string, int $>$ place\+IndexB)
\begin{DoxyCompactList}\small\item\em This method compares two given places (dictionaries contains id and type of each one) the possible results are\+: \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classrequest_handler_a2d0a3f9d0fc5273fd5b53f2c80da3e53}{there\+Is\+Any\+Change\+In\+Options}} ()
\begin{DoxyCompactList}\small\item\em This method checks if the user has changed his type of places preferences or not. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{classrequest_handler_a48c05191962fb5e745e38ebb78ffda89}{current\+Index\+\_\+}}
\begin{DoxyCompactList}\small\item\em stores the index of the next place that will be returned. \end{DoxyCompactList}\item 
List$<$ string $>$ \mbox{\hyperlink{classrequest_handler_a0456f4a33533918edbef902c7869e19f}{types\+Of\+Sites\+\_\+}}
\begin{DoxyCompactList}\small\item\em List of strings that contains the valid types of the places. \end{DoxyCompactList}\item 
List$<$ List$<$ \mbox{\hyperlink{class_place}{Place}} $>$ $>$ \mbox{\hyperlink{classrequest_handler_a5fbea7352f0d8f9666b85f8e227d592f}{list\+Of\+Places\+\_\+}}
\begin{DoxyCompactList}\small\item\em Stores all the places splited by types. \end{DoxyCompactList}\item 
List$<$ Dictionary$<$ string, int $>$ $>$ \mbox{\hyperlink{classrequest_handler_a0fc0ab60d1f4272ef321b0522923c58b}{sorted\+Place\+Index\+\_\+}}
\begin{DoxyCompactList}\small\item\em Stores the sorted index of the places when the type is defined. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classrequest_handler_a0d12b585f7d86d1b239a8366f7e7f78e}{sorted\+By\+Distance\+\_\+}}
\begin{DoxyCompactList}\small\item\em true if the places should be sorted by distance, false in other case. \end{DoxyCompactList}\item 
Dictionary$<$ string, bool $>$ \mbox{\hyperlink{classrequest_handler_a40e78dd86f63926138771aa73752da9f}{what\+To\+See\+Options\+\_\+}}
\begin{DoxyCompactList}\small\item\em It stores the extracted options of which types of places the user wants to see. It is stored for comparing and noticing where they change and for accesing it for sorting the places. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classrequest_handler_a96e38775c9047fac293dac39d3ae6cad}{start\+Index\+\_\+}} = 0
\begin{DoxyCompactList}\small\item\em the index on which we start to count to extract new places. This index is releated to the sorted\+Place list. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
class that controls the request of places information. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classrequest_handler_aa666513cc05d0e733d7db4a6597664ae}\label{classrequest_handler_aa666513cc05d0e733d7db4a6597664ae}} 
\index{requestHandler@{requestHandler}!requestHandler@{requestHandler}}
\index{requestHandler@{requestHandler}!requestHandler@{requestHandler}}
\doxysubsubsection{\texorpdfstring{requestHandler()}{requestHandler()}}
{\footnotesize\ttfamily request\+Handler.\+request\+Handler (\begin{DoxyParamCaption}\item[{Dictionary$<$ string, Dictionary$<$ string, Dictionary$<$ string, string $>$ $>$ $>$}]{all\+Places }\end{DoxyParamCaption})}



constructor of the \mbox{\hyperlink{classrequest_handler}{request\+Handler}} class, it initialize all the properties of the object and instanciate a new \mbox{\hyperlink{class_place}{Place}} and store it on the list\+Of\+Places\+\_\+ property for each place of the given dictionary. 


\begin{DoxyParams}{Parameters}
{\em Dictionary$<$string,Dictionary$<$string,Dictionary$<$string,string$>$$>$$>$} & dictionary string conversion the data of all places. \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classrequest_handler_ab90cafa9ee042a09fc43051473610487}\label{classrequest_handler_ab90cafa9ee042a09fc43051473610487}} 
\index{requestHandler@{requestHandler}!askForAPlace@{askForAPlace}}
\index{askForAPlace@{askForAPlace}!requestHandler@{requestHandler}}
\doxysubsubsection{\texorpdfstring{askForAPlace()}{askForAPlace()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_place}{Place}} request\+Handler.\+ask\+For\+APlace (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



this method access to the sort\+By\+Less\+Distance method of \mbox{\hyperlink{classoptions_controller}{options\+Controller}} class and it shorts the places acording to the chosen sort method calling the sort\+Places method if the chosen sort method has changed since last call to this method. It returns the next place that should be showed to the user acording to the sorting method and the prefferences of the current user of what the current user wants to see. 

\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{class_place}{Place}} the next place that should be showed to the user. 
\end{DoxyReturn}
\mbox{\Hypertarget{classrequest_handler_a33f4bb0d06754215d9e64c3260f581d7}\label{classrequest_handler_a33f4bb0d06754215d9e64c3260f581d7}} 
\index{requestHandler@{requestHandler}!compareTwoPlacesTakingAwareOfOptions@{compareTwoPlacesTakingAwareOfOptions}}
\index{compareTwoPlacesTakingAwareOfOptions@{compareTwoPlacesTakingAwareOfOptions}!requestHandler@{requestHandler}}
\doxysubsubsection{\texorpdfstring{compareTwoPlacesTakingAwareOfOptions()}{compareTwoPlacesTakingAwareOfOptions()}}
{\footnotesize\ttfamily int request\+Handler.\+compare\+Two\+Places\+Taking\+Aware\+Of\+Options (\begin{DoxyParamCaption}\item[{Dictionary$<$ string, int $>$}]{place\+IndexA,  }\item[{Dictionary$<$ string, int $>$}]{place\+IndexB }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



This method compares two given places (dictionaries contains id and type of each one) the possible results are\+: 


\begin{DoxyParams}{Parameters}
{\em Dictionary$<$string,int$>$} & type and id of the place A \\
\hline
{\em Dictionary$<$string,int$>$} & type and id of the place B \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int the comparation result, it could be -\/1, 0 or 1.
\begin{DoxyItemize}
\item -\/1 if placeA should be first than placeB
\item 1 if placeB should be first than placeA
\item 0 if placeA and placeB they are equivalent if we just look the user preferences of place\textquotesingle{}s type and visited or not visited. 
\end{DoxyItemize}
\end{DoxyReturn}
\mbox{\Hypertarget{classrequest_handler_ac06e06309e2ae1fd81a1fe41533f3045}\label{classrequest_handler_ac06e06309e2ae1fd81a1fe41533f3045}} 
\index{requestHandler@{requestHandler}!getPlaceByTypeAndId@{getPlaceByTypeAndId}}
\index{getPlaceByTypeAndId@{getPlaceByTypeAndId}!requestHandler@{requestHandler}}
\doxysubsubsection{\texorpdfstring{getPlaceByTypeAndId()}{getPlaceByTypeAndId()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_place}{Place}} request\+Handler.\+get\+Place\+By\+Type\+And\+Id (\begin{DoxyParamCaption}\item[{string}]{type,  }\item[{string}]{id }\end{DoxyParamCaption})}



It returns the place that match the given type and id, if there inst any place with that index or type it will raise an exception. 

\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{class_place}{Place}} with the given type and id. 
\end{DoxyReturn}
\mbox{\Hypertarget{classrequest_handler_a4b70f4378a4b1e7bdd52afb7301b0496}\label{classrequest_handler_a4b70f4378a4b1e7bdd52afb7301b0496}} 
\index{requestHandler@{requestHandler}!oneMoreVisitToPlaceByTypeAndId@{oneMoreVisitToPlaceByTypeAndId}}
\index{oneMoreVisitToPlaceByTypeAndId@{oneMoreVisitToPlaceByTypeAndId}!requestHandler@{requestHandler}}
\doxysubsubsection{\texorpdfstring{oneMoreVisitToPlaceByTypeAndId()}{oneMoreVisitToPlaceByTypeAndId()}}
{\footnotesize\ttfamily void request\+Handler.\+one\+More\+Visit\+To\+Place\+By\+Type\+And\+Id (\begin{DoxyParamCaption}\item[{string}]{type,  }\item[{string}]{id }\end{DoxyParamCaption})}



Calls the method one\+More\+Visit of the given instance of the class \mbox{\hyperlink{class_place}{Place}} that matches the given type and id. 

\mbox{\Hypertarget{classrequest_handler_a1de643057d5925139555f8d86f0d6928}\label{classrequest_handler_a1de643057d5925139555f8d86f0d6928}} 
\index{requestHandler@{requestHandler}!sortPlaces@{sortPlaces}}
\index{sortPlaces@{sortPlaces}!requestHandler@{requestHandler}}
\doxysubsubsection{\texorpdfstring{sortPlaces()}{sortPlaces()}}
{\footnotesize\ttfamily void request\+Handler.\+sort\+Places (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Sorts the places acording to the current user preferences. 

\mbox{\Hypertarget{classrequest_handler_a2d0a3f9d0fc5273fd5b53f2c80da3e53}\label{classrequest_handler_a2d0a3f9d0fc5273fd5b53f2c80da3e53}} 
\index{requestHandler@{requestHandler}!thereIsAnyChangeInOptions@{thereIsAnyChangeInOptions}}
\index{thereIsAnyChangeInOptions@{thereIsAnyChangeInOptions}!requestHandler@{requestHandler}}
\doxysubsubsection{\texorpdfstring{thereIsAnyChangeInOptions()}{thereIsAnyChangeInOptions()}}
{\footnotesize\ttfamily bool request\+Handler.\+there\+Is\+Any\+Change\+In\+Options (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



This method checks if the user has changed his type of places preferences or not. 

\begin{DoxyReturn}{Returns}
true if there is some changes on the what\+To\+See\+Options, false if they isnt any change. 
\end{DoxyReturn}
\mbox{\Hypertarget{classrequest_handler_ab7326672366737a58cef46efd522cd06}\label{classrequest_handler_ab7326672366737a58cef46efd522cd06}} 
\index{requestHandler@{requestHandler}!updateIndex@{updateIndex}}
\index{updateIndex@{updateIndex}!requestHandler@{requestHandler}}
\doxysubsubsection{\texorpdfstring{updateIndex()}{updateIndex()}}
{\footnotesize\ttfamily void request\+Handler.\+update\+Index (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



updates the current\+Index\+\_\+ property to point the next place type that should be chosen. 

\mbox{\Hypertarget{classrequest_handler_ac0f0d270c70239835f6a1b1875da2536}\label{classrequest_handler_ac0f0d270c70239835f6a1b1875da2536}} 
\index{requestHandler@{requestHandler}!updateStartIndex@{updateStartIndex}}
\index{updateStartIndex@{updateStartIndex}!requestHandler@{requestHandler}}
\doxysubsubsection{\texorpdfstring{updateStartIndex()}{updateStartIndex()}}
{\footnotesize\ttfamily void request\+Handler.\+update\+Start\+Index (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



This method updates the start\+Index\+\_\+ to take new places. 

\mbox{\Hypertarget{classrequest_handler_a3c1b14bbe2a439308f7ed778b951e952}\label{classrequest_handler_a3c1b14bbe2a439308f7ed778b951e952}} 
\index{requestHandler@{requestHandler}!useStartIndex@{useStartIndex}}
\index{useStartIndex@{useStartIndex}!requestHandler@{requestHandler}}
\doxysubsubsection{\texorpdfstring{useStartIndex()}{useStartIndex()}}
{\footnotesize\ttfamily void request\+Handler.\+use\+Start\+Index (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



This method sets the current\+Index\+\_\+ at the start\+Index\+\_\+ to start from the begining of the sorted list of places. 

\mbox{\Hypertarget{classrequest_handler_a4439a445bbe97705f794966d66ff3de8}\label{classrequest_handler_a4439a445bbe97705f794966d66ff3de8}} 
\index{requestHandler@{requestHandler}!visitsOfMostVisitedPlace@{visitsOfMostVisitedPlace}}
\index{visitsOfMostVisitedPlace@{visitsOfMostVisitedPlace}!requestHandler@{requestHandler}}
\doxysubsubsection{\texorpdfstring{visitsOfMostVisitedPlace()}{visitsOfMostVisitedPlace()}}
{\footnotesize\ttfamily int request\+Handler.\+visits\+Of\+Most\+Visited\+Place (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



This method calculates the maximum number of visits between each type of place and then, it calculates the maximum number of all types. Basically, it returns the maximum number of visits between all places. 

\begin{DoxyReturn}{Returns}
int the maximum number of visits between all places. 
\end{DoxyReturn}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classrequest_handler_a48c05191962fb5e745e38ebb78ffda89}\label{classrequest_handler_a48c05191962fb5e745e38ebb78ffda89}} 
\index{requestHandler@{requestHandler}!currentIndex\_@{currentIndex\_}}
\index{currentIndex\_@{currentIndex\_}!requestHandler@{requestHandler}}
\doxysubsubsection{\texorpdfstring{currentIndex\_}{currentIndex\_}}
{\footnotesize\ttfamily int request\+Handler.\+current\+Index\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



stores the index of the next place that will be returned. 

\mbox{\Hypertarget{classrequest_handler_a5fbea7352f0d8f9666b85f8e227d592f}\label{classrequest_handler_a5fbea7352f0d8f9666b85f8e227d592f}} 
\index{requestHandler@{requestHandler}!listOfPlaces\_@{listOfPlaces\_}}
\index{listOfPlaces\_@{listOfPlaces\_}!requestHandler@{requestHandler}}
\doxysubsubsection{\texorpdfstring{listOfPlaces\_}{listOfPlaces\_}}
{\footnotesize\ttfamily List$<$List$<$\mbox{\hyperlink{class_place}{Place}}$>$ $>$ request\+Handler.\+list\+Of\+Places\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Stores all the places splited by types. 


\begin{DoxyItemize}
\item First index\+: Type.
\item Second index\+: \mbox{\hyperlink{class_place}{Place}} ID. 
\end{DoxyItemize}\mbox{\Hypertarget{classrequest_handler_a0d12b585f7d86d1b239a8366f7e7f78e}\label{classrequest_handler_a0d12b585f7d86d1b239a8366f7e7f78e}} 
\index{requestHandler@{requestHandler}!sortedByDistance\_@{sortedByDistance\_}}
\index{sortedByDistance\_@{sortedByDistance\_}!requestHandler@{requestHandler}}
\doxysubsubsection{\texorpdfstring{sortedByDistance\_}{sortedByDistance\_}}
{\footnotesize\ttfamily bool request\+Handler.\+sorted\+By\+Distance\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



true if the places should be sorted by distance, false in other case. 

\mbox{\Hypertarget{classrequest_handler_a0fc0ab60d1f4272ef321b0522923c58b}\label{classrequest_handler_a0fc0ab60d1f4272ef321b0522923c58b}} 
\index{requestHandler@{requestHandler}!sortedPlaceIndex\_@{sortedPlaceIndex\_}}
\index{sortedPlaceIndex\_@{sortedPlaceIndex\_}!requestHandler@{requestHandler}}
\doxysubsubsection{\texorpdfstring{sortedPlaceIndex\_}{sortedPlaceIndex\_}}
{\footnotesize\ttfamily List$<$Dictionary$<$string,int$>$ $>$ request\+Handler.\+sorted\+Place\+Index\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Stores the sorted index of the places when the type is defined. 

\mbox{\Hypertarget{classrequest_handler_a96e38775c9047fac293dac39d3ae6cad}\label{classrequest_handler_a96e38775c9047fac293dac39d3ae6cad}} 
\index{requestHandler@{requestHandler}!startIndex\_@{startIndex\_}}
\index{startIndex\_@{startIndex\_}!requestHandler@{requestHandler}}
\doxysubsubsection{\texorpdfstring{startIndex\_}{startIndex\_}}
{\footnotesize\ttfamily int request\+Handler.\+start\+Index\+\_\+ = 0\hspace{0.3cm}{\ttfamily [private]}}



the index on which we start to count to extract new places. This index is releated to the sorted\+Place list. 

\mbox{\Hypertarget{classrequest_handler_a0456f4a33533918edbef902c7869e19f}\label{classrequest_handler_a0456f4a33533918edbef902c7869e19f}} 
\index{requestHandler@{requestHandler}!typesOfSites\_@{typesOfSites\_}}
\index{typesOfSites\_@{typesOfSites\_}!requestHandler@{requestHandler}}
\doxysubsubsection{\texorpdfstring{typesOfSites\_}{typesOfSites\_}}
{\footnotesize\ttfamily List$<$string$>$ request\+Handler.\+types\+Of\+Sites\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



List of strings that contains the valid types of the places. 

\mbox{\Hypertarget{classrequest_handler_a40e78dd86f63926138771aa73752da9f}\label{classrequest_handler_a40e78dd86f63926138771aa73752da9f}} 
\index{requestHandler@{requestHandler}!whatToSeeOptions\_@{whatToSeeOptions\_}}
\index{whatToSeeOptions\_@{whatToSeeOptions\_}!requestHandler@{requestHandler}}
\doxysubsubsection{\texorpdfstring{whatToSeeOptions\_}{whatToSeeOptions\_}}
{\footnotesize\ttfamily Dictionary$<$string,bool$>$ request\+Handler.\+what\+To\+See\+Options\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



It stores the extracted options of which types of places the user wants to see. It is stored for comparing and noticing where they change and for accesing it for sorting the places. 



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
Scripts/\+Login/\mbox{\hyperlink{request_handler_8cs}{request\+Handler.\+cs}}\end{DoxyCompactItemize}
