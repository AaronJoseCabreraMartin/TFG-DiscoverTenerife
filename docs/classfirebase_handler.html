<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DiscoverTenerife: firebaseHandler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DiscoverTenerife
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classfirebase_handler-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">firebaseHandler Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This class follows the Singleton patron, so it only has one instance at the same time. The instance could be found on the firebaseHandlerInstance_ public static property. This class handles all the firebase releated methods like validating user, creating new users, downloading and uploading all the data from the database.  
 <a href="classfirebase_handler.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for firebaseHandler:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classfirebase_handler.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa8a10ab6460cf11bc6d23126c44b200f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfirebase_handler.html#aa8a10ab6460cf11bc6d23126c44b200f">internetConnection</a> ()</td></tr>
<tr class="separator:aa8a10ab6460cf11bc6d23126c44b200f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4043c29298ebba38031194de7e079249"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfirebase_handler.html#a4043c29298ebba38031194de7e079249">FirebaseDependenciesAreResolved</a> ()</td></tr>
<tr class="separator:a4043c29298ebba38031194de7e079249"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04299ca84568415273316686a94bb3ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfirebase_handler.html#a04299ca84568415273316686a94bb3ae">CreateNewUser</a> (string email, string password)</td></tr>
<tr class="separator:a04299ca84568415273316686a94bb3ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e4a4c939d9a69525849e67ea2c5440d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfirebase_handler.html#a8e4a4c939d9a69525849e67ea2c5440d">LoginUser</a> (string email, string password)</td></tr>
<tr class="separator:a8e4a4c939d9a69525849e67ea2c5440d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a297e1c6be17087c8721385c645f747a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfirebase_handler.html#a297e1c6be17087c8721385c645f747a8">AnonymousUser</a> ()</td></tr>
<tr class="separator:a297e1c6be17087c8721385c645f747a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fe29f48976a13c0b7e6058ef291739f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfirebase_handler.html#a4fe29f48976a13c0b7e6058ef291739f">SignInWithGoogle</a> ()</td></tr>
<tr class="separator:a4fe29f48976a13c0b7e6058ef291739f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01a2d71ae9cac39dd471025595431a3e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfirebase_handler.html#a01a2d71ae9cac39dd471025595431a3e">LogOut</a> ()</td></tr>
<tr class="separator:a01a2d71ae9cac39dd471025595431a3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f8c6e716d1526e02e1d37e73fa586ca"><td class="memItemLeft" align="right" valign="top"><a id="a6f8c6e716d1526e02e1d37e73fa586ca" name="a6f8c6e716d1526e02e1d37e73fa586ca"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>writeNewPlaceOnDataBase</b> (<a class="el" href="class_place.html">Place</a> place, string type, int placeID)</td></tr>
<tr class="separator:a6f8c6e716d1526e02e1d37e73fa586ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba11f61e5325c292f87ab9cf860d4a47"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfirebase_handler.html#aba11f61e5325c292f87ab9cf860d4a47">writeUserData</a> ()</td></tr>
<tr class="separator:aba11f61e5325c292f87ab9cf860d4a47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ebc57ce4f3015ebf732f3fa209048e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfirebase_handler.html#a0ebc57ce4f3015ebf732f3fa209048e4">readUserData</a> ()</td></tr>
<tr class="separator:a0ebc57ce4f3015ebf732f3fa209048e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3246face54b37d05f1706fd2c679fb4c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfirebase_handler.html#a3246face54b37d05f1706fd2c679fb4c">writePlaceData</a> (string type, string id)</td></tr>
<tr class="memdesc:a3246face54b37d05f1706fd2c679fb4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method uploads the data from the place that matches the given type and id. If the upload fails it adds the information of the place to placesToUploadQueue_.  <a href="classfirebase_handler.html#a3246face54b37d05f1706fd2c679fb4c">More...</a><br /></td></tr>
<tr class="separator:a3246face54b37d05f1706fd2c679fb4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28b9cfa56bcc6eb589c0c3cac163d2a1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfirebase_handler.html#a28b9cfa56bcc6eb589c0c3cac163d2a1">cooldownVisitingPlaceFinished</a> (string type, int id)</td></tr>
<tr class="memdesc:a28b9cfa56bcc6eb589c0c3cac163d2a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method returns true if the place with the given type and id is ready for a new visit. The cooldown time is defined on the class <a class="el" href="classgame_rules.html" title="This class store as static properties the parameters that affect the game rules. For example it store...">gameRules</a>, check that class for more information.  <a href="classfirebase_handler.html#a28b9cfa56bcc6eb589c0c3cac163d2a1">More...</a><br /></td></tr>
<tr class="separator:a28b9cfa56bcc6eb589c0c3cac163d2a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47c57be709727569b5c041afbf39f44a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfirebase_handler.html#a47c57be709727569b5c041afbf39f44a">cooldownVisitingStoredPlaceFinished</a> (<a class="el" href="class_stored_place.html">StoredPlace</a> storedPlace)</td></tr>
<tr class="memdesc:a47c57be709727569b5c041afbf39f44a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method returns true if the place with the given type and id is ready for a new visit. The cooldown time is defined on the class <a class="el" href="classgame_rules.html" title="This class store as static properties the parameters that affect the game rules. For example it store...">gameRules</a>, check that class for more information.  <a href="classfirebase_handler.html#a47c57be709727569b5c041afbf39f44a">More...</a><br /></td></tr>
<tr class="separator:a47c57be709727569b5c041afbf39f44a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7894071f3ee618eb2e46d8f0b1ea7fed"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfirebase_handler.html#a7894071f3ee618eb2e46d8f0b1ea7fed">cooldownVisitingPlaceByNameFinished</a> (string name)</td></tr>
<tr class="memdesc:a7894071f3ee618eb2e46d8f0b1ea7fed"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method returns true if the place with the given name is ready for a new visit. The cooldown time is defined on the class <a class="el" href="classgame_rules.html" title="This class store as static properties the parameters that affect the game rules. For example it store...">gameRules</a>, check that class for more information. You have to be aware that its possible that two places has the same name, on that case, it will check only the first one.  <a href="classfirebase_handler.html#a7894071f3ee618eb2e46d8f0b1ea7fed">More...</a><br /></td></tr>
<tr class="separator:a7894071f3ee618eb2e46d8f0b1ea7fed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cda5d45b2b50fbb90654a6c97280bdd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfirebase_handler.html#a7cda5d45b2b50fbb90654a6c97280bdd">userVisitedPlace</a> (string type, int id, long timeOfTheVisit=-1)</td></tr>
<tr class="memdesc:a7cda5d45b2b50fbb90654a6c97280bdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method register a new visit for the place with the given type and id and the given timestamp, if the given timestamp is negative it will use the current timestamp. It also calls the writePlaceData and the writeUserData methods to upload the new visit information to the database.  <a href="classfirebase_handler.html#a7cda5d45b2b50fbb90654a6c97280bdd">More...</a><br /></td></tr>
<tr class="separator:a7cda5d45b2b50fbb90654a6c97280bdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaced40a0dad386427abff9514dd72745"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfirebase_handler.html#aaced40a0dad386427abff9514dd72745">userVisitedPlaceByName</a> (string name, long timeOfTheVisit=-1)</td></tr>
<tr class="memdesc:aaced40a0dad386427abff9514dd72745"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method search on all the places the first one who match the given name, and then, it calls the userVisitedPlace method, check that method for more information. You have to be aware that if two places has the same name, the new visit will be added only to the first one.  <a href="classfirebase_handler.html#aaced40a0dad386427abff9514dd72745">More...</a><br /></td></tr>
<tr class="separator:aaced40a0dad386427abff9514dd72745"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2952f67548a2cc3077f9a463b2346c0e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfirebase_handler.html#a2952f67548a2cc3077f9a463b2346c0e">hasUserVisitPlaceByName</a> (string name)</td></tr>
<tr class="memdesc:a2952f67548a2cc3077f9a463b2346c0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method search on the places that the current user has visited and check if there is at least one place with that name, on that case it returns true, it returns false in other case.  <a href="classfirebase_handler.html#a2952f67548a2cc3077f9a463b2346c0e">More...</a><br /></td></tr>
<tr class="separator:a2952f67548a2cc3077f9a463b2346c0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa66de5dfe6ea8297b507c4a372d5097e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_place.html">Place</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfirebase_handler.html#aa66de5dfe6ea8297b507c4a372d5097e">askForAPlace</a> ()</td></tr>
<tr class="memdesc:aa66de5dfe6ea8297b507c4a372d5097e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method calls askForAPlace method of <a class="el" href="classrequest_handler.html" title="class that controls the request of places information.">requestHandler</a> and returns the place that that method returns. If you want more information check the <a class="el" href="classrequest_handler.html" title="class that controls the request of places information.">requestHandler</a> documentation. This method also instanciate a <a class="el" href="classrequest_handler.html" title="class that controls the request of places information.">requestHandler</a> if it doesnt exists when its called.  <a href="classfirebase_handler.html#aa66de5dfe6ea8297b507c4a372d5097e">More...</a><br /></td></tr>
<tr class="separator:aa66de5dfe6ea8297b507c4a372d5097e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62e983ac87dcac624548cf24868db9c8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfirebase_handler.html#a62e983ac87dcac624548cf24868db9c8">placesAreReady</a> ()</td></tr>
<tr class="separator:a62e983ac87dcac624548cf24868db9c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ca6a1aeb10049398462dec0bf5286e7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfirebase_handler.html#a3ca6a1aeb10049398462dec0bf5286e7">userDataIsReady</a> ()</td></tr>
<tr class="separator:a3ca6a1aeb10049398462dec0bf5286e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0471139f7ee31242792fb109a2a9c45f"><td class="memItemLeft" align="right" valign="top"><a id="a0471139f7ee31242792fb109a2a9c45f" name="a0471139f7ee31242792fb109a2a9c45f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>sortPlaces</b> ()</td></tr>
<tr class="memdesc:a0471139f7ee31242792fb109a2a9c45f"><td class="mdescLeft">&#160;</td><td class="mdescRight">this method calls the sortPlaces method of the <a class="el" href="classrequest_handler.html" title="class that controls the request of places information.">requestHandler</a> class. Check that class documentation to get more information. <br /></td></tr>
<tr class="separator:a0471139f7ee31242792fb109a2a9c45f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeb8dfca0be45c50bbc3890cc8c05048"><td class="memItemLeft" align="right" valign="top">Dictionary&lt; string, string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfirebase_handler.html#adeb8dfca0be45c50bbc3890cc8c05048">findPlaceByName</a> (string name)</td></tr>
<tr class="memdesc:adeb8dfca0be45c50bbc3890cc8c05048"><td class="mdescLeft">&#160;</td><td class="mdescRight">this method returns a dictionary that contains the id and the type of the place that has the given name. If there isn't any place with that name, it will return a dictionary that contains two entries id with the string "-1" and type with the string "noType". If there is more than one place with the given name, only the first one will be returned.  <a href="classfirebase_handler.html#adeb8dfca0be45c50bbc3890cc8c05048">More...</a><br /></td></tr>
<tr class="separator:adeb8dfca0be45c50bbc3890cc8c05048"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5dc9ae5a71e0b308a311bb39d11d36c"><td class="memItemLeft" align="right" valign="top"><a id="ab5dc9ae5a71e0b308a311bb39d11d36c" name="ab5dc9ae5a71e0b308a311bb39d11d36c"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>totalOfPlaces</b> ()</td></tr>
<tr class="separator:ab5dc9ae5a71e0b308a311bb39d11d36c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2e1f3074b62519af5eb018eb8aaa7c8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfirebase_handler.html#ab2e1f3074b62519af5eb018eb8aaa7c8">totalOfPlacesOfZone</a> (string zone)</td></tr>
<tr class="memdesc:ab2e1f3074b62519af5eb018eb8aaa7c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">this method counts all the places that have the given zone name on their zone_ property. If there is no places on the given zone, it will show a message on the console and return a 0. The valid zones are determinated on the <a class="el" href="classmap_rules_handler.html" title="This class stores the geographic zone releated values, like which are the zones of the map.">mapRulesHandler</a> class, check its documentation for more information.  <a href="classfirebase_handler.html#ab2e1f3074b62519af5eb018eb8aaa7c8">More...</a><br /></td></tr>
<tr class="separator:ab2e1f3074b62519af5eb018eb8aaa7c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79d494234917b59874830d3d758a71ff"><td class="memItemLeft" align="right" valign="top">Dictionary&lt; string, string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfirebase_handler.html#a79d494234917b59874830d3d758a71ff">getPlaceData</a> (string type, string id)</td></tr>
<tr class="memdesc:a79d494234917b59874830d3d758a71ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method search on the property allPlaces_ if there is a place with the given type and id. If there isn't any place that match both the given id and the given type, it will return null.  <a href="classfirebase_handler.html#a79d494234917b59874830d3d758a71ff">More...</a><br /></td></tr>
<tr class="separator:a79d494234917b59874830d3d758a71ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52e570d5c90783362238de73768243e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfirebase_handler.html#a52e570d5c90783362238de73768243e7">addFriendDataToDownload</a> (string uid)</td></tr>
<tr class="memdesc:a52e570d5c90783362238de73768243e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">this method adds the given user id to the friendDataDownloadQueue_ for being downloaded after.  <a href="classfirebase_handler.html#a52e570d5c90783362238de73768243e7">More...</a><br /></td></tr>
<tr class="separator:a52e570d5c90783362238de73768243e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e64c2244615553b1c6d60498badfec3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfirebase_handler.html#a1e64c2244615553b1c6d60498badfec3">updateUserDeleteAFriend</a> (string noFriendUid, string deletedFriendsList)</td></tr>
<tr class="memdesc:a1e64c2244615553b1c6d60498badfec3"><td class="mdescLeft">&#160;</td><td class="mdescRight">WTF por que deletedFriendsList es un string en vez de una lista?!?!?. This method must be called when there is internet connection, otherwise it wont to nothing. This method upload the deletedFriends property of the user that has the given id.  <a href="classfirebase_handler.html#a1e64c2244615553b1c6d60498badfec3">More...</a><br /></td></tr>
<tr class="separator:a1e64c2244615553b1c6d60498badfec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59e38bcbbfa4a3eca14e01bac8494fc5"><td class="memItemLeft" align="right" valign="top">Dictionary&lt; string, string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfirebase_handler.html#a59e38bcbbfa4a3eca14e01bac8494fc5">SearchOtherUserByName</a> (string toSearch, string type, <a class="el" href="class_search_bar.html">SearchBar</a> toAdvise=null)</td></tr>
<tr class="memdesc:a59e38bcbbfa4a3eca14e01bac8494fc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method tries to find other user on the list of users that allow be found by other users on the different types of searchs. The information that is returned depends on the type of the search. If a <a class="el" href="class_search_bar.html" title="This class controls the search bar of the screen that allow the user find other users to send them a ...">SearchBar</a> object is given it will call the resultsOfTheSearch method of that class with a dictionary version of the found user.  <a href="classfirebase_handler.html#a59e38bcbbfa4a3eca14e01bac8494fc5">More...</a><br /></td></tr>
<tr class="separator:a59e38bcbbfa4a3eca14e01bac8494fc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c59535dfc15cd611f0a6bda8b887b7c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfirebase_handler.html#a8c59535dfc15cd611f0a6bda8b887b7c">sendFriendshipInvitation</a> (string uidToInvite, <a class="el" href="class_searched_player.html">SearchedPlayer</a> searchedPlayerToAdvice)</td></tr>
<tr class="memdesc:a8c59535dfc15cd611f0a6bda8b887b7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method tries to send a new friendship invitation of the current user to the user that has the given id. The sending can produce three states:  <a href="classfirebase_handler.html#a8c59535dfc15cd611f0a6bda8b887b7c">More...</a><br /></td></tr>
<tr class="separator:a8c59535dfc15cd611f0a6bda8b887b7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a31c52c5358953859820e2f3f1266e57e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_user_data.html">UserData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfirebase_handler.html#a31c52c5358953859820e2f3f1266e57e">actualUser_</a> = null</td></tr>
<tr class="separator:a31c52c5358953859820e2f3f1266e57e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:aaf00899aab5f1eccfaf3fe603ca317f5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfirebase_handler.html">firebaseHandler</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfirebase_handler.html#aaf00899aab5f1eccfaf3fe603ca317f5">firebaseHandlerInstance_</a> = null</td></tr>
<tr class="separator:aaf00899aab5f1eccfaf3fe603ca317f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >This class follows the Singleton patron, so it only has one instance at the same time. The instance could be found on the firebaseHandlerInstance_ public static property. This class handles all the firebase releated methods like validating user, creating new users, downloading and uploading all the data from the database. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a52e570d5c90783362238de73768243e7" name="a52e570d5c90783362238de73768243e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52e570d5c90783362238de73768243e7">&#9670;&nbsp;</a></span>addFriendDataToDownload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void firebaseHandler.addFriendDataToDownload </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>uid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>this method adds the given user id to the friendDataDownloadQueue_ for being downloaded after. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>that contains the user id that you want to download data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a297e1c6be17087c8721385c645f747a8" name="a297e1c6be17087c8721385c645f747a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a297e1c6be17087c8721385c645f747a8">&#9670;&nbsp;</a></span>AnonymousUser()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void firebaseHandler.AnonymousUser </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This method tries to starts a session as an anonymous user, if it finish successfully it calls the downloading information methods and it also calls the anonymousUserLoginSucessfully method of the <a class="el" href="classanonymous_button_handler.html" title="class that controls the button of anonymous login.">anonymousButtonHandler</a> class. </p>

</div>
</div>
<a id="aa66de5dfe6ea8297b507c4a372d5097e" name="aa66de5dfe6ea8297b507c4a372d5097e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa66de5dfe6ea8297b507c4a372d5097e">&#9670;&nbsp;</a></span>askForAPlace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_place.html">Place</a> firebaseHandler.askForAPlace </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method calls askForAPlace method of <a class="el" href="classrequest_handler.html" title="class that controls the request of places information.">requestHandler</a> and returns the place that that method returns. If you want more information check the <a class="el" href="classrequest_handler.html" title="class that controls the request of places information.">requestHandler</a> documentation. This method also instanciate a <a class="el" href="classrequest_handler.html" title="class that controls the request of places information.">requestHandler</a> if it doesnt exists when its called. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="class_place.html" title="class that stores all the information of a place. It also has to download the image of the place.">Place</a> place that should be used next. </dd></dl>

</div>
</div>
<a id="a7894071f3ee618eb2e46d8f0b1ea7fed" name="a7894071f3ee618eb2e46d8f0b1ea7fed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7894071f3ee618eb2e46d8f0b1ea7fed">&#9670;&nbsp;</a></span>cooldownVisitingPlaceByNameFinished()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool firebaseHandler.cooldownVisitingPlaceByNameFinished </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method returns true if the place with the given name is ready for a new visit. The cooldown time is defined on the class <a class="el" href="classgame_rules.html" title="This class store as static properties the parameters that affect the game rules. For example it store...">gameRules</a>, check that class for more information. You have to be aware that its possible that two places has the same name, on that case, it will check only the first one. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>that contains the name of the place that you want to check if its ready to visit it again </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool with true if the cooldown for visiting the given place is finished, in other case, false. </dd></dl>

</div>
</div>
<a id="a28b9cfa56bcc6eb589c0c3cac163d2a1" name="a28b9cfa56bcc6eb589c0c3cac163d2a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28b9cfa56bcc6eb589c0c3cac163d2a1">&#9670;&nbsp;</a></span>cooldownVisitingPlaceFinished()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool firebaseHandler.cooldownVisitingPlaceFinished </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method returns true if the place with the given type and id is ready for a new visit. The cooldown time is defined on the class <a class="el" href="classgame_rules.html" title="This class store as static properties the parameters that affect the game rules. For example it store...">gameRules</a>, check that class for more information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>with the type of the place we want to check </td></tr>
    <tr><td class="paramname">int</td><td>with the id of the place we want to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool with true if the cooldown for visiting the given place is finished, in other case, false. </dd></dl>

</div>
</div>
<a id="a47c57be709727569b5c041afbf39f44a" name="a47c57be709727569b5c041afbf39f44a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47c57be709727569b5c041afbf39f44a">&#9670;&nbsp;</a></span>cooldownVisitingStoredPlaceFinished()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool firebaseHandler.cooldownVisitingStoredPlaceFinished </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_stored_place.html">StoredPlace</a>&#160;</td>
          <td class="paramname"><em>storedPlace</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method returns true if the place with the given type and id is ready for a new visit. The cooldown time is defined on the class <a class="el" href="classgame_rules.html" title="This class store as static properties the parameters that affect the game rules. For example it store...">gameRules</a>, check that class for more information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="class_stored_place.html" title="Class that stores the data of one of the stored places.">StoredPlace</a></td><td>the <a class="el" href="class_stored_place.html" title="Class that stores the data of one of the stored places.">StoredPlace</a> object that you want to check if you can visit it again. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool with true if the cooldown for visiting the given place is finished, in other case, false. </dd></dl>

</div>
</div>
<a id="a04299ca84568415273316686a94bb3ae" name="a04299ca84568415273316686a94bb3ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04299ca84568415273316686a94bb3ae">&#9670;&nbsp;</a></span>CreateNewUser()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void firebaseHandler.CreateNewUser </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>email</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>that contains the new user email. </td></tr>
    <tr><td class="paramname">string</td><td>that contains the new user password. This method tries to create a new user on the firebase backend with the given email and password. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adeb8dfca0be45c50bbc3890cc8c05048" name="adeb8dfca0be45c50bbc3890cc8c05048"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adeb8dfca0be45c50bbc3890cc8c05048">&#9670;&nbsp;</a></span>findPlaceByName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Dictionary&lt; string, string &gt; firebaseHandler.findPlaceByName </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>this method returns a dictionary that contains the id and the type of the place that has the given name. If there isn't any place with that name, it will return a dictionary that contains two entries id with the string "-1" and type with the string "noType". If there is more than one place with the given name, only the first one will be returned. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>that contains the name of the searched place </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Dictionary&lt;string,string&gt; it contains two entries, id and type, they contains the id and the type of the place that matches the given name </dd></dl>

</div>
</div>
<a id="a4043c29298ebba38031194de7e079249" name="a4043c29298ebba38031194de7e079249"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4043c29298ebba38031194de7e079249">&#9670;&nbsp;</a></span>FirebaseDependenciesAreResolved()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool firebaseHandler.FirebaseDependenciesAreResolved </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Getter of the flag that indicate that firebase dependencies are resolved or not. </p>

</div>
</div>
<a id="a79d494234917b59874830d3d758a71ff" name="a79d494234917b59874830d3d758a71ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79d494234917b59874830d3d758a71ff">&#9670;&nbsp;</a></span>getPlaceData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Dictionary&lt; string, string &gt; firebaseHandler.getPlaceData </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method search on the property allPlaces_ if there is a place with the given type and id. If there isn't any place that match both the given id and the given type, it will return null. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>that contains the type of the searched place. </td></tr>
    <tr><td class="paramname">string</td><td>that contains the id of the searched place. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Dictionary&lt;string, string&gt; dictionary of strings that contains a string version of all the information of the searched place. </dd></dl>

</div>
</div>
<a id="a2952f67548a2cc3077f9a463b2346c0e" name="a2952f67548a2cc3077f9a463b2346c0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2952f67548a2cc3077f9a463b2346c0e">&#9670;&nbsp;</a></span>hasUserVisitPlaceByName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool firebaseHandler.hasUserVisitPlaceByName </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method search on the places that the current user has visited and check if there is at least one place with that name, on that case it returns true, it returns false in other case. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>that contains the name of the place that you want to check if current user has visit or not. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool true if user has visit a place with that name, false in other case. </dd></dl>

</div>
</div>
<a id="aa8a10ab6460cf11bc6d23126c44b200f" name="aa8a10ab6460cf11bc6d23126c44b200f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8a10ab6460cf11bc6d23126c44b200f">&#9670;&nbsp;</a></span>internetConnection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool firebaseHandler.internetConnection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This method returns true only if there is internet connection, otherwise it will return false. </p>

</div>
</div>
<a id="a8e4a4c939d9a69525849e67ea2c5440d" name="a8e4a4c939d9a69525849e67ea2c5440d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e4a4c939d9a69525849e67ea2c5440d">&#9670;&nbsp;</a></span>LoginUser()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void firebaseHandler.LoginUser </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>email</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>that contains the user email that will try to login with. </td></tr>
    <tr><td class="paramname">string</td><td>that contains the user password that will try to login with. This method tries to start a sesion with the given email and password, if it finish successfully it will call the downloading information methods and also call the <a class="el" href="classemail_login_controller.html" title="Class that controls the email login button. It also makes information messages for the user.">emailLoginController</a> userLogedSuccessfully method. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a01a2d71ae9cac39dd471025595431a3e" name="a01a2d71ae9cac39dd471025595431a3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01a2d71ae9cac39dd471025595431a3e">&#9670;&nbsp;</a></span>LogOut()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void firebaseHandler.LogOut </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This method end the current firebase user sesion. </p>

</div>
</div>
<a id="a62e983ac87dcac624548cf24868db9c8" name="a62e983ac87dcac624548cf24868db9c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62e983ac87dcac624548cf24868db9c8">&#9670;&nbsp;</a></span>placesAreReady()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool firebaseHandler.placesAreReady </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>bool true if all the places are downloaded and ready to use. </dd></dl>

</div>
</div>
<a id="a0ebc57ce4f3015ebf732f3fa209048e4" name="a0ebc57ce4f3015ebf732f3fa209048e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ebc57ce4f3015ebf732f3fa209048e4">&#9670;&nbsp;</a></span>readUserData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void firebaseHandler.readUserData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This method download all the information that is releated to the user from the firebase database. </p>

</div>
</div>
<a id="a59e38bcbbfa4a3eca14e01bac8494fc5" name="a59e38bcbbfa4a3eca14e01bac8494fc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59e38bcbbfa4a3eca14e01bac8494fc5">&#9670;&nbsp;</a></span>SearchOtherUserByName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Dictionary&lt; string, string &gt; firebaseHandler.SearchOtherUserByName </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>toSearch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_search_bar.html">SearchBar</a>&#160;</td>
          <td class="paramname"><em>toAdvise</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method tries to find other user on the list of users that allow be found by other users on the different types of searchs. The information that is returned depends on the type of the search. If a <a class="el" href="class_search_bar.html" title="This class controls the search bar of the screen that allow the user find other users to send them a ...">SearchBar</a> object is given it will call the resultsOfTheSearch method of that class with a dictionary version of the found user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>that contains the displayName that you want to search </td></tr>
    <tr><td class="paramname">string</td><td>that contains the reason of the search, it could be friend, chanllege or ranking. This reasons for the search has to be differenciated because users can allow or not be found by other users. </td></tr>
    <tr><td class="paramname"><a class="el" href="class_search_bar.html" title="This class controls the search bar of the screen that allow the user find other users to send them a ...">SearchBar</a></td><td>object that you want to advise when the search ends. This parameter is optional. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Dictionary&lt;string,string&gt; A dictionary version of the necessary information of the player that has the given user id. </dd></dl>

</div>
</div>
<a id="a8c59535dfc15cd611f0a6bda8b887b7c" name="a8c59535dfc15cd611f0a6bda8b887b7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c59535dfc15cd611f0a6bda8b887b7c">&#9670;&nbsp;</a></span>sendFriendshipInvitation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void firebaseHandler.sendFriendshipInvitation </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>uidToInvite</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_searched_player.html">SearchedPlayer</a>&#160;</td>
          <td class="paramname"><em>searchedPlayerToAdvice</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method tries to send a new friendship invitation of the current user to the user that has the given id. The sending can produce three states: </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>that contains the user id of the player that the current user want to send a new friendship invitation. </td></tr>
    <tr><td class="paramname"><a class="el" href="class_searched_player.html">SearchedPlayer</a></td><td>object that handles the result of the sending<ul>
<li>sended: all was OK and the invitation was sended successfully.</li>
<li>failed: the sending failed because there is no internet connection or other error.</li>
<li>repeated: the sending failed because that user already have an invitation of the current user. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4fe29f48976a13c0b7e6058ef291739f" name="a4fe29f48976a13c0b7e6058ef291739f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fe29f48976a13c0b7e6058ef291739f">&#9670;&nbsp;</a></span>SignInWithGoogle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void firebaseHandler.SignInWithGoogle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This method will be called when the google signin button is pressed, it start the google authentication process calling the method OnAuthenticationFinished when it finish. </p>

</div>
</div>
<a id="ab2e1f3074b62519af5eb018eb8aaa7c8" name="ab2e1f3074b62519af5eb018eb8aaa7c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2e1f3074b62519af5eb018eb8aaa7c8">&#9670;&nbsp;</a></span>totalOfPlacesOfZone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int firebaseHandler.totalOfPlacesOfZone </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>zone</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>this method counts all the places that have the given zone name on their zone_ property. If there is no places on the given zone, it will show a message on the console and return a 0. The valid zones are determinated on the <a class="el" href="classmap_rules_handler.html" title="This class stores the geographic zone releated values, like which are the zones of the map.">mapRulesHandler</a> class, check its documentation for more information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>that contains the name of a zone. Valid zones are determinated on <a class="el" href="classmap_rules_handler.html" title="This class stores the geographic zone releated values, like which are the zones of the map.">mapRulesHandler</a> class. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int the number of places that are on the given zone. </dd></dl>

</div>
</div>
<a id="a1e64c2244615553b1c6d60498badfec3" name="a1e64c2244615553b1c6d60498badfec3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e64c2244615553b1c6d60498badfec3">&#9670;&nbsp;</a></span>updateUserDeleteAFriend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void firebaseHandler.updateUserDeleteAFriend </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>noFriendUid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>deletedFriendsList</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>WTF por que deletedFriendsList es un string en vez de una lista?!?!?. This method must be called when there is internet connection, otherwise it wont to nothing. This method upload the deletedFriends property of the user that has the given id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>that contains the user that will has erased the friendship with the current user. </td></tr>
    <tr><td class="paramname">string</td><td>that contains the deleted friends list of the user that has the given id. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3ca6a1aeb10049398462dec0bf5286e7" name="a3ca6a1aeb10049398462dec0bf5286e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ca6a1aeb10049398462dec0bf5286e7">&#9670;&nbsp;</a></span>userDataIsReady()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool firebaseHandler.userDataIsReady </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>bool true if the user data is downloaded and ready to use. </dd></dl>

</div>
</div>
<a id="a7cda5d45b2b50fbb90654a6c97280bdd" name="a7cda5d45b2b50fbb90654a6c97280bdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cda5d45b2b50fbb90654a6c97280bdd">&#9670;&nbsp;</a></span>userVisitedPlace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void firebaseHandler.userVisitedPlace </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>timeOfTheVisit</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method register a new visit for the place with the given type and id and the given timestamp, if the given timestamp is negative it will use the current timestamp. It also calls the writePlaceData and the writeUserData methods to upload the new visit information to the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>that contains the type of the place that current user has visited and you want to register that visit. </td></tr>
    <tr><td class="paramname">int</td><td>that contains the id of the place that current user has visited and you want to register that visit. </td></tr>
    <tr><td class="paramname">long</td><td>that contains the timestamp of the visit, the default value is -1. A negative value means that you want to use the current timestamp not the given one. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaced40a0dad386427abff9514dd72745" name="aaced40a0dad386427abff9514dd72745"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaced40a0dad386427abff9514dd72745">&#9670;&nbsp;</a></span>userVisitedPlaceByName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void firebaseHandler.userVisitedPlaceByName </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>timeOfTheVisit</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method search on all the places the first one who match the given name, and then, it calls the userVisitedPlace method, check that method for more information. You have to be aware that if two places has the same name, the new visit will be added only to the first one. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>that contains the name of the place that current user has visited and you want to register that visit. </td></tr>
    <tr><td class="paramname">long</td><td>that contains the timestamp of the visit, the default value is -1. A negative value means that you want to use the current timestamp not the given one. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3246face54b37d05f1706fd2c679fb4c" name="a3246face54b37d05f1706fd2c679fb4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3246face54b37d05f1706fd2c679fb4c">&#9670;&nbsp;</a></span>writePlaceData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void firebaseHandler.writePlaceData </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method uploads the data from the place that matches the given type and id. If the upload fails it adds the information of the place to placesToUploadQueue_. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>string that contains the type of the place that we want to upload. </td></tr>
    <tr><td class="paramname">id</td><td>string that contains the id of the place that we want to upload. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aba11f61e5325c292f87ab9cf860d4a47" name="aba11f61e5325c292f87ab9cf860d4a47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba11f61e5325c292f87ab9cf860d4a47">&#9670;&nbsp;</a></span>writeUserData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void firebaseHandler.writeUserData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This method uploads to the database all the current user releated information. It also upload the changes on the user social preferences. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a31c52c5358953859820e2f3f1266e57e" name="a31c52c5358953859820e2f3f1266e57e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31c52c5358953859820e2f3f1266e57e">&#9670;&nbsp;</a></span>actualUser_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_user_data.html">UserData</a> firebaseHandler.actualUser_ = null</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >A instance of the class <a class="el" href="class_user_data.html" title="Class that stores the current user data.">UserData</a>, it stores the downloaded data from the database, check the documentation of that class to get more information. </p>

</div>
</div>
<a id="aaf00899aab5f1eccfaf3fe603ca317f5" name="aaf00899aab5f1eccfaf3fe603ca317f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf00899aab5f1eccfaf3fe603ca317f5">&#9670;&nbsp;</a></span>firebaseHandlerInstance_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfirebase_handler.html">firebaseHandler</a> firebaseHandler.firebaseHandlerInstance_ = null</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This public static attribute store the unique instance of this class. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Scripts/Login/firebaseHandler.cs</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
